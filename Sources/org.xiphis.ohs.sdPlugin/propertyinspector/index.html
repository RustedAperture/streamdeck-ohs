<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no,minimal-ui,viewport-fit=cover"
    />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <title>Property Inspector Samples PI</title>
    <link rel="stylesheet" href="css/sdpi.css" />
    <link rel="stylesheet" href="css/local.css" />
    <style>
      #sensor_type,
      #sensor_name {
        max-width: 226px;
        padding-right: 25px;
        font-family: monospace;
      }

      #sensor_type option,
      #sensor_name option {
        font-family: monospace;
      }
    </style>
  </head>
  <body>
    <div id="ui" class="sdpi-wrapper localbody hiddenx">
      <div class="sdpi-heading">OHM Sensors</div>

      <div class="sdpi-item">
        <div class="sdpi-item-label">Sensor</div>
        <select class="sdpi-item-value select" id="sensor_name">
          <option>Loading...</option>
          <!-- populate with items found in return from OpenHardwareMonitor -->
        </select>
      </div>

      <div class="sdpi-heading">Graph</div>

      <div class="sdpi-item">
        <div class="sdpi-item-label">Graph Type</div>
        <select class="sdpi-item-value select" id="sensor_type">
          <option value="text">Text</option>
          <option value="knob">Dial</option>
          <option value="line">Line</option>
          <option value="fill">Fill</option>
        </select>
      </div>

      <div type="color" class="sdpi-item" id="colorselection">
        <div class="sdpi-item-label">Background</div>
        <input
          type="color"
          class="sdpi-item-value"
          id="sensor_background"
          value="#000000"
        />
        <div class="sdpi-item-label">Foreground</div>
        <input
          type="color"
          class="sdpi-item-value"
          id="sensor_foreground"
          value="#ff8800"
        />
      </div>

      <div type="color" class="sdpi-item" id="colorselection">
        <div class="sdpi-item-label">Filling</div>
        <input
          type="color"
          class="sdpi-item-value"
          id="sensor_fillcolour"
          value="#ff8800"
        />
        <div class="sdpi-item-label">Value Text</div>
        <input
          type="color"
          class="sdpi-item-value"
          id="sensor_valuecolour"
          value="#ff8800"
        />
      </div>

      <div type="color" class="sdpi-item" id="colorselection">
        <div class="sdpi-item-label">Gradicule</div>
        <input
          type="color"
          class="sdpi-item-value"
          id="sensor_gradicule"
          value="#181818"
        />
      </div>

      <div class="sdpi-heading">Value Params</div>

      <div class="sdpi-item" id="input_minimum">
        <div class="sdpi-item-label">Minimum Value</div>
        <input
          type="number"
          class="sdpi-item-value"
          id="sensor_minimum"
          inputmode="numeric"
          pattern="[0-9]*(\.[0-9]+)?"
        />
      </div>

      <div class="sdpi-item" id="input_maximum">
        <div class="sdpi-item-label">Maximum Value</div>
        <input
          type="number"
          class="sdpi-item-value"
          id="sensor_maximum"
          inputmode="numeric"
          pattern="[0-9]*(\.[0-9]+)?"
        />
      </div>

      <div class="sdpi-heading">Font Sizes</div>

      <div type="range" class="sdpi-item" id="input_fontsize">
        <div class="sdpi-item-label">Font Size</div>
        <div class="sdpi-item-value">
          <span value="1">1</span>
          <input
            type="range"
            min="1"
            max="3"
            step="0.05"
            value="3"
            list="steplist"
            id="sensor_fontsize"
          />
          <span value="3">3</span>
        </div>
      </div>

      <!-- END OF SDPI-WRAPPER -->
    </div>

    <div class="sdpi-info-label hidden" style="top: -1000" value=""></div>
    <!-- libs -->
    <script src="../lib/js/utils.js"></script>
    <script src="../lib/js/constants.js"></script>
    <script src="../lib/js/events.js"></script>
    <script src="../lib/js/api.js"></script>
    <script src="../lib/js/property-inspector.js"></script>
    <script src="../lib/js/action.js"></script>
    <script src="../lib/js/timers.js"></script>
    <script src="../lib/js/dynamic-styles.js"></script>

    <script src="js/common_pi.js"></script>
    <script src="js/openhardware.js"></script>
    <script src="js/iro.min.js"></script>
    <script src="js/index_pi.js"></script>
    <script>
      const sensorTypeSelect = document.getElementById("sensor_type");
      const fontRange = document.getElementById("sensor_fontsize");

      sensorTypeSelect.addEventListener("change", () => {
        const selectedOption =
          sensorTypeSelect.options[sensorTypeSelect.selectedIndex].text;

        if (selectedOption === "Text") {
          fontRange.value = 2.75;
        } else if (selectedOption === "Dial") {
          fontRange.value = 1.75;
        } else if (selectedOption === "Line") {
          fontRange.value = 1.75;
        } else if (selectedOption === "Fill") {
          fontRange.value = 1.75;
        }

        fontRange.dispatchEvent(new Event("change", { bubbles: true }));
      });
    </script>
  </body>
</html>
